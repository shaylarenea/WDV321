function validateForm() {
    document.querySelectorAll('.error').forEach(error => error.textContent = '');

    let isValid = true;

    const recipeName = document.getElementById('recipeName').value.trim();
    const recipeImage = document.getElementById('recipeImage').value.trim();
    const cookieType = document.getElementById('cookieType').value.trim();
    const servingSize = document.getElementById('servingSize').value;
    const ingredients = document.getElementById('ingredients').value.trim();
    const instructions = document.getElementById('instructions').value.trim();

    if (!recipeName) {
        document.getElementById('nameError').textContent = 'Name is required';
        isValid = false;
    }

    if (!recipeImage) {
        document.getElementById('imageError').textContent = 'Image is required';
        isValid = false;
    }

    if (!cookieType) {
        document.getElementById('typeError').textContent = 'Type is required';
        isValid = false;
    }

    if (!ingredients) {
        document.getElementById('ingredientsError').textContent = 'Ingredients are required';
        isValid = false;
    }

    if (isValid) {
        // Save data to local storage
        saveToLocalStorage();
        alert('Form submitted successfully!');
        // You can send the data to the server using AJAX or fetch API if needed
    }
}

function addIngredient() {
    const ingredientsTextarea = document.getElementById('ingredients');
    const newIngredient = prompt('Enter a new ingredient:');

    if (newIngredient) {
        ingredientsTextarea.value += `${newIngredient}\n`;
        // Save data to local storage when an ingredient is added
        saveToLocalStorage();
    }
}

function saveToLocalStorage() {
    const fieldsToSave = ['recipeName', 'recipeImage', 'cookieType', 'servingSize', 'ingredients', 'instructions'];

    // Create an object to store the form data
    const formData = {};

    // Retrieve values and store in formData object
    fieldsToSave.forEach(field => {
        const element = document.getElementById(field);
        formData[field] = element.value.trim();
    });

    // Convert the formData object to a JSON string and store in local storage
    localStorage.setItem('formData', JSON.stringify(formData));
}

function loadFromLocalStorage() {
    // Retrieve the JSON string from local storage
    const savedData = localStorage.getItem('formData');

    if (savedData) {
        // Parse the JSON string back into an object
        const formData = JSON.parse(savedData);

        // Set values in the form
        for (const field in formData) {
            if (formData.hasOwnProperty(field)) {
                document.getElementById(field).value = formData[field];
            }
        }
    }
}
