<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link only to the compiled CSS file -->
    <link rel="stylesheet" href="chocolatechipstyle.css">
    <link rel="stylesheet" href="chocolatechipstyle.scss">
    <title>Document</title>
</head>
<body>
    <div class="grid">
        <div class="Navbar">
            <img src="Cookie Crumb Short Logo.png" alt="logo" class="logo">
            <ul>
                <li><a href="Crumbfactoryhomepage.html">HOME</a></li>
                <li><a href="RecipeInputform.html">SUBMIT RECIPES</a></li>
                <li><a href="#">SIGN IN</a></li>
                <li><a href="#">CONTACT US</a></li>
            </ul>
        </div>

        <div class="Left">
            <h2>Sugar Cookies</h2>
            <p>Serves: 8-20 </p>
            <p>Difficulty Level: Medium</p>
            <p>Preparation Time: 10-15 Minutes </p>
            <img src="whitesugarcookie.png" alt="Sugacookie" width="300" height="300">
        </div>

        <div class="Main">
            <p>Sweet Cookies with an extra sugary topping .</p>
        </div>

        <div class="Right">
            <h3>Serving Size</h3>
            <button type="button" class="halfbutton">Half</button>
            <button type="button" class="normalbutton">Normal</button>
            <button type="button" class="doublebutton">Double</button><br><br>
            <button type="button" class="ingredients">Ingredients</button>
            <div class="ingredients-container"></div><br><br>
            <button type="button" class="instruction">Instructions</button>
            <div class="instructions-container"></div><br>
            
            <!-- Close All button for both ingredients and instructions -->
            <button type="button" class="close-all">Close Recipe</button>
        </div>

        <div class="Menu">
            <p>Do you Have A Recipe You Would Like to Share?</p>
            <button type="button" class="recipebutton" onclick="navigateToRecipePage('RecipeInputform.html')">SUBMIT A RECIPE</button>
        </div>

        <div class="Footer">
            <p class="copyright">&copy; The Cookie Crumb Factory 2023</p>
        </div>
    </div>

    <!-- Include the correct JavaScript file -->
    <script src="chocolatechipinstructions.js"></script>

    <!-- Update the existing script -->
    <!-- ... your existing HTML code ... -->

<script>
    let lastServingSize = 'normal'; // Default serving size

    document.querySelector('.halfbutton').addEventListener('click', () => {
        updateInstructionsAndIngredients('sugarCookieHalf');
    });

    document.querySelector('.normalbutton').addEventListener('click', () => {
        updateInstructionsAndIngredients('sugarCookieNormal');
    });

    document.querySelector('.doublebutton').addEventListener('click', () => {
        updateInstructionsAndIngredients('sugarCookieDouble');
    });

    document.querySelector('.instruction').addEventListener('click', () => {
        displayInstructions(lastServingSize);
    });

    document.querySelector('.ingredients').addEventListener('click', () => {
        displayIngredients(lastServingSize);
    });

    // Close All button click event
    document.querySelector('.close-all').addEventListener('click', () => {
        const ingredientsContainer = document.querySelector('.ingredients-container');
        const instructionsContainer = document.querySelector('.instructions-container');

        ingredientsContainer.innerHTML = ''; // Clear ingredients container
        instructionsContainer.innerHTML = ''; // Clear instructions container
        ingredientsContainer.style.display = 'none';
        instructionsContainer.style.display = 'none';
    });

    function updateInstructionsAndIngredients(cookieType) {
        lastServingSize = cookieType.replace('sugarCookie', ''); // Extract serving size from the cookie type
        displayInstructions(cookieType);
        displayIngredients(cookieType);
    }

    function displayInstructions(cookieType) {
        const instructionsContainer = document.querySelector('.instructions-container');
        const detailedInstructions = instructions[cookieType].detailed.join('<br>');
        instructionsContainer.innerHTML = `Instructions (${lastServingSize}): ${detailedInstructions}`;
        instructionsContainer.style.display = 'block'; // Show instructions container
    }

    function displayIngredients(cookieType) {
        const ingredientsContainer = document.querySelector('.ingredients-container');
        const detailedIngredients = instructions[cookieType].ingredients.join('<br>');
        ingredientsContainer.innerHTML = `Ingredients (${lastServingSize}): ${detailedIngredients}`;
        ingredientsContainer.style.display = 'block'; // Show ingredients container
    }

    function navigateToRecipePage(pageURL) {
        window.location.href = pageURL;
    }
</script>



</body>
</html>
